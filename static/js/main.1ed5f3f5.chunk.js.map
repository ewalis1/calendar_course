{"version":3,"sources":["logo.png","components/Navbar.js","components/CalendarForm.js","components/Calendar.js","components/Footer.js","App.js","index.js"],"names":["Navbar","useState","hamburgerMenu","setHamburgerMenu","className","src","logo","alt","onClick","href","CalendarForm","valueDate","name","setName","surname","setSurname","email","setEmail","phone","setPhone","isPending","setIsPending","onSubmit","e","preventDefault","reservation","date","fetch","method","headers","body","JSON","stringify","then","console","log","type","required","value","onChange","target","format","disabled","Calendar","calendar","setCalendar","active","setActive","showComponent","setShowComponent","reservations","setReservations","moment","updateLocale","localization","startWeek","clone","startOf","endWeek","endOf","endMonth","startMonth","useEffect","day","subtract","arr","isBefore","push","Array","fill","map","add","response","ok","json","Error","data","actualMonth","isSame","Date","reservedDays","res","dayStyling","chosenDay","yesterday","today","isAfter","daysOfNextMonth","daysOfPreviousMonth","id","d","index","week","prevToday","Footer","App","setValue","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ed5f3f5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.e7fbdc95.png\";","import React, {useState} from 'react';\nimport logo from '../logo.png';\n\nexport default function Navbar() {\n    const [hamburgerMenu, setHamburgerMenu] = useState(false);\n    \n    return (\n        <div className='row banner'>\n            {/* <img className=\"banner\" src={image} alt=\"mtb\"/> */}\n            <div className=\"nav\">\n                <nav className='navbar'>\n                <div className='logo'>\n                    <img src={logo} alt=\"bikeszkola\"/>\n                </div>\n                <div className='menu-icon' onClick={() => setHamburgerMenu(!hamburgerMenu)}>\n                    <i className={hamburgerMenu ? \"fas fa-times\" : \"fas fa-bars\"}></i>\n                </div>\n                <ul className={hamburgerMenu ? \"navbar__menu-active\" : \"navbar__menu\"}>\n                    <li><a href='./' className='navbar__link'>Start</a></li>\n                    <li><a href='#calendar' className='navbar__link'>Kalendarz</a></li>\n                    <li><a href='http://bikeszkola.pl' className='navbar__link'>Bikeszkoła</a></li>\n                    <li><a href='https://www.hls-shop.pl/kategoria-produktu/hls/' className='navbar__link'>Sklep</a></li>\n                    <li><a href='#contact' className='navbar__link'>Social media</a></li>\n                </ul>\n            </nav>\n            </div>\n        </div>\n    );\n}","import {useState} from 'react';\n\nconst CalendarForm = ({valueDate}) => {\n  const [name, setName] = useState('');\n  const [surname, setSurname] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [isPending, setIsPending] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let date = valueDate;\n    const reservation = {name, surname, email, phone, date};\n    setIsPending(true);\n\n    fetch('http://localhost:3001/reservations', {\n      method: 'POST',\n      headers: {'Content-Type': 'application/JSON'},\n      body: JSON.stringify(reservation),\n    }).then(() => {\n      console.log('New reservation added');\n      setIsPending(false);\n    });\n  };\n\n  return (\n    <div className=\"form__calendar\">\n      <h2>Zarezerwuj termin szkolenia</h2>\n      <form onSubmit={handleSubmit}>\n        <label>Imię:</label>\n        <input\n          type=\"text\"\n          required\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <label>Nazwisko:</label>\n        <input\n          type=\"text\"\n          required\n          value={surname}\n          onChange={(e) => setSurname(e.target.value)}\n        />\n        <label>e-mail:</label>\n        <input\n          type=\"email\"\n          required\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <label>Numer telefonu:</label>\n        <input\n          type=\"number\"\n          required\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n        />\n        <label>Data szkolenia:</label>\n        <input\n          type=\"date\"\n          required\n          value={valueDate.format('YYYY-MM-DD')}\n          onChange={(e) => e.target.value}\n        />\n        <div className=\"div-btn\">\n          {!isPending && <button className=\"form__button\">Zarezerwuj</button>}\n          {isPending && (\n            <button disabled className=\"form__btn form__btn__disabled\">\n              Dodawanie rezerwacji...\n            </button>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default CalendarForm;\n","import React, {useState, useEffect} from 'react';\nimport moment from 'moment';\nimport localization from 'moment/locale/pl';\nimport CalendarForm from './CalendarForm';\n\nexport default function Calendar({value, onChange}) {\n  const [calendar, setCalendar] = useState([]);\n  const [active, setActive] = useState(false);\n  const [showComponent, setShowComponent] = useState(false);\n  const [reservations, setReservations] = useState(null);\n\n  moment.updateLocale('pl', localization);\n\n  const startWeek = value.clone().startOf('month').startOf('week');\n  const endWeek = value.clone().endOf('month').endOf('week');\n  const endMonth = value.clone().endOf('month');\n  const startMonth = value.clone().startOf('month');\n\n  useEffect(() => {\n    const day = startWeek.clone().subtract(1, 'day');\n    const arr = [];\n    while (day.isBefore(endWeek, 'day')) {\n      arr.push(\n        Array(7)\n          .fill('d')\n          .map(() => day.add(1, 'day').clone())\n      );\n    }\n    setCalendar(arr);\n  }, [value]);\n\n  useEffect(() => {\n    fetch('http://localhost:3001/reservations')\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error('Komunikacja z serwerem się nie powiodła!');\n      })\n      .then((data) => {\n        console.log(data);\n        setReservations(data);\n      });\n  }, []);\n\n  const chosenDay = (day, value) => value.isSame(day, 'day');\n  const yesterday = (day) => day.isBefore(new Date(), 'day');\n  const today = (day) => day.isSame(new Date(), 'day');\n  const daysOfNextMonth = (day) => day.isAfter(endMonth, 'day');\n  const daysOfPreviousMonth = (day) => day.isBefore(startMonth, 'day');\n\n  const currentMonth = () => value.format('MMMM');\n  const currentYear = () => value.format('YYYY');\n  const previousMonth = () => value.clone().subtract(1, 'month');\n  const nextMonth = () => value.clone().add(1, 'month');\n\n  const actualMonth = () => value.isSame(new Date(), 'month');\n  const prevToday = (day) => day.isBefore(new Date(), 'day');\n\n  const reservedDays =\n    reservations &&\n    reservations.map((res) => moment(res.date).format('DD-MM-YYYY'));\n  console.log(reservedDays);\n\n  // const reservation = (day) =>\n  //   reservedDays.forEach((e) => day.isSame(e, 'day'));\n\n  // console.log(reservation());\n  // console.log(moment(value).format('DD-MM-YYYY'));\n  // console.log(reservation);\n  // const reservation = day => day.isSame(reservedDays, \"day\");\n  // if (reservedDays.forEach((e, value) => e == value)) return \"Zajęta data\";\n\n  const dayStyling = (day, value) => {\n    if (chosenDay(day, value)) return 'pickedDay';\n    if (yesterday(day)) return 'yesterday';\n    if (today(day)) return 'today';\n    if (daysOfNextMonth(day)) return 'next-month';\n    if (daysOfPreviousMonth(day)) return 'previous-month';\n    // if (reservation(day))return \"reservedDay\";\n    return '';\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"row justify-content-center\">\n          <div className=\"calendar col-12\">\n            <div className=\"calendar__header\">\n              <div\n                className=\"prevMonth\"\n                onClick={() => !actualMonth() && onChange(previousMonth())}\n              >\n                {!actualMonth() ? (\n                  <i className=\"fas fa-chevron-left\"></i>\n                ) : null}\n              </div>\n              <div>\n                {currentMonth()} {currentYear()}\n              </div>\n              <div className=\"nextMonth\" onClick={() => onChange(nextMonth())}>\n                <i className=\"fas fa-chevron-right\"></i>\n              </div>\n            </div>\n            <div className=\"calendar__grid\" id=\"calendar\">\n              <div className=\"days\">\n                {['pn', 'wt', 'śr', 'czw', 'pt', 'sob', 'nd'].map(\n                  (d, index) => (\n                    <div key={index} className=\"week\">\n                      {d}\n                    </div>\n                  )\n                )}\n              </div>\n              {calendar.map((week, index) => (\n                <div key={index}>\n                  {week.map((day, index) => (\n                    <div\n                      key={index}\n                      className=\"day\"\n                      onClick={() => !prevToday(day) && onChange(day)}\n                    >\n                      <div\n                        className={dayStyling(day, value)}\n                        onClick={() => setActive(true)}\n                      >\n                        {day.format('DD')}\n                        {active && (\n                          <i\n                            className=\"fas fa-plus\"\n                            onClick={() => {\n                              setShowComponent(true);\n                            }}\n                          ></i>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n        <div className=\"row justify-content-center\">\n          <div className=\"col-12 col-lg-8\">\n            {showComponent && <CalendarForm valueDate={value} />}\n          </div>\n        </div>\n        <div className=\"reserved\">\n          <h3>Zarezerwowane terminy:</h3>\n          {reservations && (\n            <ul>\n              {reservations.map((res) => (\n                <li key={res.id}>{moment(res.date).format('DD-MM-YYYY')}</li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function Footer() {\n    return (\n        <div className='row footer' id=\"contact\">\n            <div className='container'>\n                <ul>\n                    <li><a href='https://www.instagram.com/bikeszkola/' className='footer__link'><i className=\"fab fa-instagram\"></i></a></li>\n                    <li><a href='https://www.facebook.com/bikeszkola' className='footer__link'><i className=\"fab fa-facebook-square\"></i></a></li>\n                    <li><a href='https://www.instagram.com/hard_luck_story/' className='footer__link'><i className=\"fab fa-instagram\"></i></a></li>\n                </ul>\n            </div>\n        </div>\n    );\n}","import React, {useState} from \"react\";\nimport './App.scss';\nimport Navbar from './components/Navbar';\nimport Calendar from './components/Calendar';\nimport Footer from './components/Footer';\nimport moment from 'moment';\n\n\n\nfunction App() {\n  const [value, setValue] = useState(moment());\n  return (\n    <div className=\"App container\">\n      <Navbar/>\n      <Calendar value={value} onChange={setValue}/>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}